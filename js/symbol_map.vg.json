{
    "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
    "width": 650,
    "height": 350,
    "title": "Number of Top Creators and Total Upload Frequency in each Country (2023)",
    "projection": {"type": "equalEarth"},
    "layer": [
      {
        "data": {
          "url": "https://raw.githubusercontent.com/jcha0157/assignment2/main/js/ne_110m_admin_0_countries.json",
          "format": {"type": "topojson", "feature": "ne_110m_admin_0_countries"}
        },
        "mark": {"type": "geoshape", "fill": "lightgray", "stroke": "white"}
      },
      {
        "data": {
          "url": "https://raw.githubusercontent.com/jcha0157/assignment2/main/js/ne_110m_graticules_30.json",
          "format": {"type": "topojson", "feature": "ne_110m_graticules_30"}
        },
        "mark": {"type": "geoshape", "fill": null, "stroke": "lightgray"}
      },
      {
        "data": {
          "url": "https://raw.githubusercontent.com/jcha0157/assignment2/main/data/Global_YouTube_Statistics.csv"
        },
        "mark": {"type": "circle"},
        "encoding": {
          "longitude": {"field": "Longitude", "type": "quantitative"},
          "latitude": {"field": "Latitude", "type": "quantitative"},
          "size": {
            "aggregate": "count",
            "field": "Youtuber",
            "type": "quantitative",
            "title": ["Number of Top", "Creators"],
            "scale": {"type": "threshold", "domain": [1, 10, 50, 100, 300], "range": [20, 60, 150, 300, 450, 700]}
          },
          "color": {
            "aggregate": "sum",
            "field": "uploads",
            "type": "quantitative",
            "legend": {"format": ","},
            "title": ["Total Upload", "Frequency"],
            "scale": {"type": "threshold", "domain": [5000, 100000, 1000000], "range": ["#fdbe85", "#fd8d3c", "#e6550d", "#a63603"]}
          },
          "opacity": {"value": 0.9},
          "tooltip": [
            {"field": "Country", "type": "nominal", "title": "Country"},
            {"field": "Youtuber", "aggregate": "count", "type": "quantitative", "title": "Number of Top Creators"},
            {"field": "uploads", "aggregate": "sum", "type": "quantitative", "title": "Total Upload Frequency", "format": ","},
            {"field": "Population", "type": "quantitative", "format": ","}
          ]
        }
      }
    ],
    "config": {
      "view": {
        "stroke": null,
        "continuousWidth": 800,
        "continuousHeight": 400
      },
      "legend": {
        "titleFont": "PT Serif"
      },
      "title": {
        "font": "PT Serif",
        "fontSize": 16,
        "fontWeight": 600
      }
    }
  }